(function(t){function e(e){for(var a,c,o=e[0],r=e[1],u=e[2],d=0,m=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&m.push(i[c][0]),i[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);l&&l(e);while(m.length)m.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var r=s[o];0!==i[r]&&(a=!1)}a&&(n.splice(e--,1),t=c(c.s=s[0]))}return t}var a={},i={app:0},n=[];function c(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=t,c.c=a,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(s,a,function(e){return t[e]}.bind(null,a));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=r;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"17fc":function(t,e,s){},2067:function(t,e,s){t.exports=s.p+"img/5.dbfd3f50.svg"},2850:function(t,e,s){t.exports=s.p+"img/0.612716cd.svg"},"2d000":function(t,e,s){"use strict";var a=s("e1d9"),i=s.n(a);i.a},"3e54":function(t,e,s){t.exports=s.p+"img/8.0e38789e.svg"},4116:function(t,e,s){t.exports=s.p+"img/3.9e827803.svg"},"419e":function(t,e,s){t.exports=s.p+"img/10.4da85ca9.svg"},"4a66":function(t,e,s){var a={"./0.svg":"d9ce","./1.svg":"978b","./10.svg":"419e","./2.svg":"6855","./3.svg":"f655","./4.svg":"aaa0","./5.svg":"2067","./6.svg":"e012","./7.svg":"bdda","./8.svg":"3e54","./9.svg":"98b6"};function i(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="4a66"},"4aa5":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"stats"},[s("div",{staticClass:"stat-wrap"},[s("span",{staticClass:"stat-text"},[t._v("Выносливость: "+t._s(t.playerStamina)+" %")]),s("span",{staticClass:"stat"},[s("span",{ref:"staminaBar",staticClass:"stat-bar stat-bar--stamina"})])]),s("div",{staticClass:"stat-wrap"},[s("span",{staticClass:"stat-text"},[t._v("Калории: "+t._s(t.calories)+" ккал")]),s("span",{staticClass:"stat"},[s("span",{ref:"kcalBar",staticClass:"stat-bar stat-bar--kcal"})])])]),s("div",{staticClass:"interface"},[s("span",{staticClass:"interface__btn interface__btn--inventory",on:{click:t.openInventory}}),s("span",{staticClass:"interface__btn interface__btn--quests",on:{click:t.openQuestBook}},[s("span",{staticClass:"interface__btn--available",class:{show:t.isQuestAvailable}},[t._v(t._s(t.availableQuestsNubber))])]),s("span",{staticClass:"interface__btn interface__btn--map",on:{click:t.openMap}})]),s("Looting",{on:{statsUsed:t.decreaseStats}}),s("div",{staticClass:"map",class:{opened:t.isMapOpen}},[s("div",{staticClass:"map__glass",on:{click:t.closeAllInterface}}),s("WorldMap")],1),s("div",{staticClass:"backpack",class:{opened:t.isInventoryOpen}},[s("div",{staticClass:"backpack__glass",on:{click:t.closeAllInterface}}),s("Backpack",{on:{statsAdded:t.increaseStats}})],1),s("div",{staticClass:"quest__book",class:{opened:t.isQuestBookOpen}},[s("div",{staticClass:"quest__glass",on:{click:t.closeAllInterface}}),s("Quests",{on:{questsNumberChanged:t.showQuestsNumber}})],1)],1)},n=[],c=s("5530"),o=s("2f62"),r={actions:{setQuestDone:function(t,e){t.commit("changeQuestState",e)},setQuestAvailable:function(t,e){t.commit("changeQuestAvailability",e)}},mutations:{changeQuestState:function(t,e){t.quests[e].questDone=!0},changeQuestAvailability:function(t,e){t.quests[e].questAvailable=!0}},getters:{getQuests:function(t){return t.quests}},state:{quests:[{questId:0,questName:"Ключ от города",questDone:!1,questAvailable:!1,description:"Парк обнесен довольно высоким забором. Стоит осмотреться и поискать ворота",requirements:{neededLocation:{id:1,name:"Парковая зона"},neededItems:null},reward:{discoveredLocation:{id:0,name:"Жилые дома"},discoveredQuestId:null,foundItems:null},remark:[{text:["Весь парк отделен от остального мира внушительного вида бетонной стеной, но блуждания по нему дали результат - вы отыскали вход."],routes:[{text:"Далее",leadsTo:1}]},{text:["Он выглядят так же грандиозно как и стены парка - это высокие металлические ворота. Вручную открыть такие будет сложно, раньше они открывались благодаря приводам.","Рядом стоит небольшое здание сторожки. Панель управления должна быть там."],routes:[{text:"Осмотреть ворота",leadsTo:2},{text:"Осмотреть сторожку",leadsTo:3}]},{text:["Это просто огромный лист металла без каких-либо выступов. Если приводы не работают - вам придется очень постараться чтобы их открыть. А винтовой замок, намертво скрепивший их с опорой намекает что приводы не единственная ваша проблема."],routes:[{text:"Вернуться",leadsTo:1}]},{text:["Здание при осмотре кажется еще меньше. Одну из стен почти полностью занимает окно, а вход облюбовал некий вьющийся цветок"],routes:[{text:"Оборвать растение и войти",leadsTo:5},{text:"Заглянуть в окно",leadsTo:4}]},{text:["Стекло было грязным и запыленным, так что деталей интерьера вы не разглядеть не могли. Разве что поняли что внутри никого нет.","В детстве вы не понимали для чего у ворот ставят такие строения. Когда-то отец сказал что их называют сторожками. Вы еще подумали - для людей они слишком малы. Потому долгое время считали эти здания будками для собак и очень удивились впервые увидев в них человека"],routes:[{text:"Вернуться",leadsTo:3}]},{text:["От тонких стеблей вы избавились довольно быстро, а вот с клубком более толстых, проросших прямо у основания двери, пришлось помучаться. Спустя несколько минут дверь была свободна и вы тут же дернули ручку"],routes:[{text:"Далее",leadsTo:6}]},{text:["Внутри сторожка в очередной раз удивила вас теснотой. Примерно треть ее занимал стол, одной стороной сливавшийся со стеной. Справа от него располагался небольшой пульт с двумя кнопками, видимо это и была панель управления приводами ворот"],routes:[{text:"Нажать на кнопки",leadsTo:7},{text:"Осмотреть стол",leadsTo:8}]},{text:["Ничего не происходит, механизмы ворот даже не издают звука. Может что-то случилось с самим пультом, возможно ворота и подвал подключены к разным линиям. Причина сейчас не так важна - главное что так открыть ворота не получится."],routes:[{text:"Вернуться",leadsTo:6}]},{text:["Под столом вы находите небольшой приоткрытый выдвижной ящик"],routes:[{text:"Открыть ящик",leadsTo:9}]},{text:["Внутри вы находите пару предметов: ключ от винтового замка и фотографию пожилого человека на фоне какого-то дома. Одна из стен дома выкрашена в красный. На ней красуется странный символ в виде квадрата, разделенного под углом на три части."],routes:[{text:"Осмотреть фото",leadsTo:10}]},{text:["Этот человек вам не знаком, как и дом за ним. В уголке вы замечаете небольшую скрепку, вы не сразу заметили что к фото был прикреплен сложенный в несколько раз лист с чем-то внутри."],routes:[{text:"Развернуть лист",leadsTo:11}]},{text:["Внутри оказался обычный ключ, такие используются повсюду так что он бесполезен без понимания какую дверь он может открыть. Ответить на это мог текст на самом листе, так что вы сразу принялись читать."],routes:[{text:"Далее",leadsTo:12}]},{text:['"На фото я и мой дом - найди его. Адрес я тебе не дам, потому как он уже мало что значат. Придется изрядно пройтись, но рано или поздно найдешь. Заодно увидишь что происходит вокруг. Оставляю это письмо на всякий случай, может кто-то действительно вернется сюда. Писем таких я по городу много оставил, так что если найдешь еще - не выбрасывай, вдруг кому кроме тебя пригодится."',"И подпись - Игнат"],routes:[{text:"Забрать вещи и выйти из сторожки",leadsTo:13}]},{text:[" Забрав все из ящика вы в последний раз осматриваете сторожку. Все же странно что ключ к воротам оставили с этой стороны. Наверное в парк был и другой вход, но найти его вам не удалось."],routes:[{text:"Далее",leadsTo:14}]},{text:["Что бы не ожидало вас за этими стенами - скоро вы увидите это своими глазами. Город ведь не может быть пуст, кто-то определенно поможет вам или хотя бы подскажет где вы находитесь. Осталось немного.","Как вы и предвидели - открыть их было не так просто. Даже те пол метра были для вас испытанием. Но теперь все это в прошлом. Вам пора."],routes:[{text:"Далее",leadsTo:15}]},{text:[""],routes:[{text:"Закрыть окно",leadsTo:15,questEnd:!0}]}]},{questId:1,questName:"Доброе утро, мир",questDone:!1,questAvailable:!0,description:"...",requirements:null,reward:{discoveredLocation:{id:1,name:"Парковая зона"},discoveredQuestId:0,foundItems:null},remark:[{text:["..."],routes:[{text:"Включить свет",leadsTo:1}]},{text:["Лампа над вами загорается. Это все та же комната что и раньше."],routes:[{text:"Осмотреться",leadsTo:2}]},{text:['Вам неясно сколько времени прошло с тех пор как вас заперли в ней. При первом пробуждении здесь вы уже осмотрели все стены и мебель - примечательного в комнате оказалось немного. Кровать, так подозрительно похожая на ту что была у вас в спальне и небольшой столик с двумя белыми обертками на нем. На одной напечатано "Завтрак", на другой - "Обед".',"Пока вы спали кто-то просунул под дверь листок"],routes:[{text:"Взять обертку",leadsTo:3},{text:"Взять листок",leadsTo:4}]},{text:["Не смотря на то что названия у них разное, обе упаковки содержали идентичные желтоватые батончики. Оба безвкусные."],routes:[{text:"Взять листок",leadsTo:4}]},{text:['Кто бы не запер вас здесь - он явно немногословен. На листе написана всего одна фраза - "Доброе утро, Смотритель".'],routes:[{text:"Далее",leadsTo:5}]},{text:["Вы слышите щелчок, механизм в двери пришел в движение и она открылась. Кажется ваше заключение подходит к концу."],routes:[{text:"Выйти из комнаты",leadsTo:6}]},{text:["Комната за дверью не сильно отличается от той где вас заперли - все те же серые бетонные стены, разве что она больше. В дальнем углу стоит небольшая металлическая печь, а вслева от нее расположены еще две двери - белая и зеленая."],routes:[{text:"Подойти к белой двери",leadsTo:7},{text:"Подойти к зеленой двери",leadsTo:8}]},{text:["Эта дверь заперта. Прислушавшись вы ничего не слышите. Может это и к лучшему."],routes:[{text:"Вернуться",leadsTo:6}]},{text:["Прислушавшись к звукам за зеленой дверью, вы узнаете шум ветра. Выход должен быть за ней."],routes:[{text:"Попробовать открыть дверь",leadsTo:9},{text:"Вернуться",leadsTo:6}]},{text:["Дверь не заперта. Вы с легкостью ее открываете и видите небольшой коридор с лестницей в конце"],routes:[{text:"Подняться по лестнице",leadsTo:10}]},{text:["Вы вновь видите небо. Огромное и голубое. Множство цветов, дорожки с лавочками по сторонам и деревья явно указывают вам что это за место. Парк. Пускай он вам и не знаком."],routes:[{text:"Далее",leadsTo:11}]},{text:["Вокруг никого нет, а сам парк кажется давно пустующим. Возможно в нем вы найдете какие-то ответы"],routes:[{text:"Далее",leadsTo:12}]},{text:[""],routes:[{text:"Закрыть окно",leadsTo:12,questEnd:!0}]}]}]}},u=(s("45fc"),{actions:{giveItem:function(t,e){var s=e.newItemID,a=e.num;t.commit("incItemQuant",{newItemID:s,num:a})},takeItem:function(t,e){var s=e.removedItemID,a=e.num;t.commit("decItemQuant",{removedItemID:s,num:a})}},mutations:{incItemQuant:function(t,e){var s=e.newItemID,a=e.num;t.itemMap.some((function(t){return t.id===s?t.quantity+=a:null}))},decItemQuant:function(t,e){var s=e.removedItemID,a=e.num;t.itemMap.some((function(t){return t.id===s?t.quantity-=a:null}))}},getters:{getItemMap:function(t){return t.itemMap}},state:{itemMap:[{id:0,name:"Ветка",isFood:!1,kcal:0,quantity:0},{id:1,name:"Сухая трава",isFood:!1,kcal:0,quantity:0},{id:2,name:"Бумажная обертка",isFood:!1,kcal:0,quantity:0},{id:3,name:"Жестянка",isFood:!1,kcal:0,quantity:0},{id:4,name:"Рукоять",isFood:!1,kcal:0,quantity:0},{id:5,name:"Провод",isFood:!1,kcal:0,quantity:0},{id:6,name:"Остатки батончика",isFood:!0,kcal:80,quantity:0},{id:7,name:"Консервированная еда",isFood:!0,kcal:300,quantity:0},{id:8,name:"Спичка",isFood:!1,kcal:0,quantity:0},{id:9,name:"Набор для разведения костра",isFood:!1,kcal:0,quantity:0},{id:10,name:"Листок с текстом",isFood:!1,kcal:0,quantity:0}]}}),l={actions:{setCurrentLocation:function(t,e){t.commit("changeCurrentLocation",e)},setSearchCount:function(t,e){t.commit("decSearchCount",e)},setLocationSearch:function(t){t.commit("searchLocation")},setLocationDiscover:function(t,e){t.commit("discoverLocation",e)}},mutations:{changeCurrentLocation:function(t,e){t.currentLocationIndex=e},decSearchCount:function(t,e){t.locations[t.currentLocationIndex].places[e].searchCount-=1},searchLocation:function(t){t.locations[t.currentLocationIndex].searched=!0},discoverLocation:function(t,e){t.locations[e].isDivorced=!0}},getters:{getLocations:function(t){return t.locations},getCurrentLocationIndex:function(t){return t.currentLocationIndex}},state:{locations:[{location:"Жилые дома",isDivorced:!1,searched:!1,places:[{name:"Одноэтажный дом",iconId:3,placeId:0,searchCount:8,lootMap:[{item:3,rate:50},{item:5,rate:30}]},{name:"Двухэтажный дом",iconId:4,placeId:1,searchCount:16,lootMap:[{item:3,rate:50},{item:5,rate:30}]}]},{location:"Парковая зона",isDivorced:!1,searched:!1,places:[{name:"Мусорный бак",iconId:0,placeId:0,searchCount:7,lootMap:[{item:0,rate:50},{item:1,rate:30}]},{name:"Мусорный бак",iconId:0,placeId:1,searchCount:1,lootMap:[{item:0,rate:50},{item:1,rate:30}]},{name:"Сторожка у ворот",iconId:1,placeId:2,searchCount:5,lootMap:[{item:2,rate:100}]},{name:"Парковая зона",iconId:2,placeId:3,searchCount:40,lootMap:[{item:0,rate:50},{item:1,rate:30}]}]},{location:"Подвал",isDivorced:!0,searched:!1,places:[{name:"Столик",iconId:5,placeId:0,searchCount:1,lootMap:[{item:2,rate:100}]}]}],currentLocationIndex:2}};a["a"].use(o["a"]);var d=new o["a"].Store({modules:{quests:r,items:u,worldMap:l}}),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quests__book"},[s("div",{staticClass:"quests__container"},[s("div",{staticClass:"quests__list"},[t._l(t.availableQuests,(function(e,a){return 0!==t.availableQuests.length?s("div",{staticClass:"quest__item",class:{selected:e.questName===t.currentQuest.questName},on:{click:function(s){return t.selectQuest(e.questId)}}},[t._v(t._s(e.questName))]):t._e()})),0===t.availableQuests.length?s("h2",{staticClass:"quests__no-items"},[t._v("Нет доступных заданий")]):t._e()],2),s("div",{staticClass:"quests__description"},[t.questSelected?s("div",{staticClass:"quests__description-inner"},[s("h3",{staticClass:"quests__name"},[t._v(t._s(t.currentQuest.questName))]),s("div",{staticClass:"quests__text"},[t._v(t._s(t.currentQuest.description))]),null!==t.currentQuest.requirements?[s("div",{staticClass:"quests__requirements"},[t._v("Требования:"),s("br"),s("span",{staticClass:"quests__required"},[null!==t.currentQuest.requirements.neededLocation?s("span",{staticClass:"quests__requirement",class:{fulfilled:t.locationFulfilled}},[t._v(" Местность:"),s("br"),t._v(t._s(t.currentQuest.requirements.neededLocation.name))]):t._e()]),null!==t.currentQuest.requirements.neededItems?s("span",{staticClass:"quests__required"},[t._v("Предметы:"),t._l(t.currentQuest.requirements.neededItems,(function(e,a){return s("span",{staticClass:"quests__requirement",class:{fulfilled:t.checkItems(a)}},[s("br"),t._v(t._s(e.name))])}))],2):t._e()])]:[s("div",{staticClass:"quests__requirements"},[t._v("Требования: нет")])]],2):t._e(),s("div",{staticClass:"quests__description-btns"},[t.questSelected?s("button",{on:{click:function(e){return t.setCurrentQuest(t.currentQuest.questId)}}},[t._v("Начать")]):t._e()])])]),t.isQuestStarted?[s("div",{staticClass:"quest__dialog",class:{disappearing:t.questEnding}},[s("div",{staticClass:"quest__message"},[t._l(t.currentQuest.remark[t.currentRemark].text,(function(e){return s("span",{staticClass:"quest__message-line"},[t._v(t._s(e))])})),t.currentRemark===t.currentQuest.remark.length-1?s("div",{staticClass:"quest__message-reward"},[null!==t.currentQuest.reward.discoveredLocation?s("span",[t._v("Открыта область: "+t._s(t.currentQuest.reward.discoveredLocation.name))]):t._e(),null!==t.currentQuest.reward.discoveredQuestId?s("span",[t._v("Доступно задание: "+t._s(t.questPool[t.currentQuest.reward.discoveredQuestId].questName))]):t._e()]):t._e()],2),s("div",{staticClass:"quest__controls"},t._l(t.currentQuest.remark[t.currentRemark].routes,(function(e){return s("span",{staticClass:"quest__control",on:{click:function(s){return t.optionClick(e,t.currentQuest.questId)}}},[t._v(t._s(e.text))])})),0)])]:t._e()],2)},v=[],p=(s("4de4"),s("b85c")),f={name:"quests",data:function(){return{questSelected:!1,isQuestStarted:!1,currentQuestId:null,currentQuest:{},currentRoutes:[],currentRemark:0,questEnding:!1,availableQuests:[],inLocation:!1,haveItems:!1,questPool:[]}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])(["giveItem","setLocationDiscover","setQuestDone","setQuestAvailable"])),Object(o["c"])(["getCurrentLocationIndex","getItemMap","getLocations","getQuests"])),{},{checkItems:function(t){var e=[],s=this.currentQuest.requirements;if(null!==s){if(null!==s.neededItems){var a,i=Object(p["a"])(this.currentQuest.requirements.neededItems);try{for(i.s();!(a=i.n()).done;){var n=a.value;this.getItemMap()[n.id].quantity>0?e.push(!0):e.push(!1)}}catch(c){i.e(c)}finally{i.f()}e.some((function(t){return!1===t}))?this.haveItems=!1:this.haveItems=!0}}else this.haveItems=!0;return e[t]},checkLocation:function(){var t=this.currentQuest.requirements;null!==t?null!==t.neededLocation&&(this.getCurrentLocationIndex()===this.currentQuest.requirements.neededLocation.id?this.inLocation=!0:this.inLocation=!1):this.inLocation=!0},setCurrentQuest:function(t){this.checkLocation(),this.checkItems(),this.inLocation&&this.haveItems&&this.startQuest(t)},startQuest:function(t){!1===this.questPool[t].questDone&&(this.isQuestStarted=!0)},selectQuest:function(t){this.currentQuestId=t,this.questSelected=!0,this.currentQuest=this.questPool[t]},giveReward:function(){null!==this.currentQuest.reward.discoveredQuestId&&this.setQuestAvailable(this.currentQuest.reward.discoveredQuestId),null!==this.currentQuest.reward.discoveredLocation&&this.setLocationDiscover(this.currentQuest.reward.discoveredLocation.id),null!==this.currentQuest.reward.foundItems&&this.giveItem({newItemID:this.currentQuest.reward.foundItems.itemId,num:this.currentQuest.reward.foundItems.quantity})},optionClick:function(t,e){var s=this;if("questEnd"in t&&!0===t.questEnd){this.giveReward(),this.questEnding=!0;var a=setTimeout((function(){s.questEnding=!1,s.isQuestStarted=!1,s.questSelected=!1,s.currentRemark=0,s.setQuestDone(e),s.currentQuestId=null,s.getAvailableQuests(),clearTimeout(a)}),700)}this.currentRemark=t.leadsTo},getAvailableQuests:function(){this.availableQuests=this.questPool.filter((function(t){return!1===t.questDone&&!0===t.questAvailable}))}}),computed:{locationFulfilled:function(){return this.checkLocation(),this.inLocation}},watch:{availableQuests:function(t){this.$emit("questsNumberChanged",{questsNum:t.length})}},mounted:function(){this.questPool=this.getQuests(),this.getAvailableQuests()}},_=f,h=(s("2d000"),s("2877")),g=Object(h["a"])(_,m,v,!1,null,null,null),b=g.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backpack__wrap"},[a("div",{staticClass:"backpack__inner"},[a("div",{staticClass:"backpack__inventory"},[a("div",{staticClass:"backpack__craft-possible"},[a("span",{staticClass:"backpack__craft-title"},[t._v("Можно создать")]),a("div",{staticClass:"backpack__craft-list"},t._l(t.craftOptions,(function(e){return a("div",{staticClass:"backpack__craft-option"},[a("span",[t._v(t._s(e.gives.name))]),a("span",{staticClass:"backpack__craft-create",on:{click:function(s){return t.craftSomething(e)}}},[t._v("создать")])])})),0)]),a("div",{staticClass:"backpack__cont"},[a("div",{staticClass:"backpack__items"},t._l(t.availableItems,(function(e){return a("div",{staticClass:"backpack__item"},[a("img",{staticClass:"backpack__icon",attrs:{src:s("4a66")("./"+e.id+".svg"),alt:"..."}}),a("div",{staticClass:"backpack__item-info"},[a("div",{staticClass:"backpack__item-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"backpack__item-quantity"},[t._v("Кол-во: "+t._s(e.quantity))])]),a("div",{staticClass:"backpack__actions"},[!0===e.isFood?a("div",{staticClass:"backpack__eat",on:{click:function(s){return t.eatSomething(e.kcal,e.id)}}}):t._e(),a("div",{staticClass:"backpack__add",on:{click:function(s){return t.addToCraft(e)}}})])])})),0),a("div",{staticClass:"backpack__craft"},[a("span",{staticClass:"backpack__title"},[t._v("крафт")]),a("div",{staticClass:"backpack__craft-place"},t._l(t.craftPile,(function(e,i){return a("div",{staticClass:"backpack__craft-item",on:{click:function(e){return t.removeFromCraft(i)}}},[a("img",{staticClass:"backpack__icon",attrs:{src:s("4a66")("./"+e.id+".svg"),alt:"..."}})])})),0)])])])])])},C=[],k=(s("a434"),s("b0c0"),{name:"backpack",data:function(){return{craftPile:[],craftOptions:[],craftRecipes:[{uses:[{id:0,quantity:1},{id:1,quantity:1},{id:8,quantity:1}],gives:{id:9,name:"набор для разведения костра",quantity:1}}]}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])(["takeItem","giveItem"])),Object(o["c"])(["getItemMap"])),{},{eatSomething:function(t,e){this.$emit("statsAdded",{usedStamina:0,usedCalories:t}),this.takeItem({removedItemID:e,num:1})},numOfItemsInPile:function(t){var e,s=0,a=Object(p["a"])(this.craftPile);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.id===t.id?s++:s=s}}catch(n){a.e(n)}finally{a.f()}return s},craftSomething:function(t){var e,s=Object(p["a"])(t.uses);try{for(s.s();!(e=s.n()).done;){var a=e.value;this.takeItem({removedItemID:a.id,num:a.quantity})}}catch(i){s.e(i)}finally{s.f()}this.craftPile=[],this.giveItem({newItemID:t.gives.id,num:t.gives.quantity})},removeFromCraft:function(t){this.craftPile.splice(t,1)},addToCraft:function(t){this.numOfItemsInPile(t),t.quantity>=1&&this.numOfItemsInPile(t)<t.quantity&&this.craftPile.push(this.getItemMap()[t.id])},getCraftItem:function(t,e){return this.getItemMap().some((function(s){return s.name===t&&s.quantity>=e}))}}),computed:Object(c["a"])(Object(c["a"])({},Object(o["c"])(["getInventory"])),{},{availableItems:function(){return this.getItemMap().filter((function(t){return t.quantity}))}}),watch:{craftPile:function(t){var e=this;this.craftOptions=[];var s,a=Object(p["a"])(this.craftRecipes);try{var i=function(){var t,a=s.value,i=[],n=Object(p["a"])(a.uses);try{for(n.s();!(t=n.n()).done;){var c=t.value;e.numOfItemsInPile(e.getItemMap()[c.id])>=c.quantity?i.push(!0):i.push(!1)}}catch(o){n.e(o)}finally{n.f()}i.some((function(t){return!1===t}))||!e.craftOptions.some((function(t){return t.gives.id===a.gives.id}))&&e.craftOptions.push(a)};for(a.s();!(s=a.n()).done;)i()}catch(n){a.e(n)}finally{a.f()}}}}),q=k,x=(s("ba84"),Object(h["a"])(q,I,C,!1,null,null,null)),y=x.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"map__cont"},[s("h2",{staticClass:"map__title"},[t._v("Сейчас вы в локации || "+t._s(t.nowYouAreIn)+" ||")]),s("div",{staticClass:"map__inner"},[s("div",{staticClass:"map__preloader",class:{active:t.isWalking}},[s("div",{staticClass:"map__preloader-inner"},[s("div",{staticClass:"map__path"},[s("div",{staticClass:"map__path-inner"},[s("div",{staticClass:"map__path-start"},[t._v(t._s(t.startPoint))]),s("div",{staticClass:"map__path-end"},[t._v(t._s(t.endPoint))]),s("div",{staticClass:"map__path-pin",class:{active:t.isWalking}})])])])]),t.isLocationDiscovered(0)?s("div",{staticClass:"map__location map__location--buildings",on:{click:function(e){return t.changeLocation(0)}}},[s("div",{staticClass:"map__location-cont",class:{current:t.isCurrent[0]}},[t._m(0)])]):t._e(),t.isLocationDiscovered(1)?s("div",{staticClass:"map__location map__location--park",on:{click:function(e){return t.changeLocation(1)}}},[s("div",{staticClass:"map__location-cont",class:{current:t.isCurrent[1]}},[t._m(1)])]):t._e(),t.isLocationDiscovered(2)?s("div",{staticClass:"map__location map__location--cellar",on:{click:function(e){return t.changeLocation(2)}}},[s("div",{staticClass:"map__location-cont",class:{current:t.isCurrent[2]}},[s("div",{staticClass:"map__location-title"},[t._v("Подвал")])])]):t._e()])])},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"map__location-title"},[t._v("Жилые "),s("br"),t._v("дома")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"map__location-title"},[t._v(" Парковая "),s("br"),t._v("зона")])}],L=(s("cb29"),{name:"WorldMap",data:function(){return{isCurrent:[!1,!1,!0],isWalking:!1,startPoint:"",endPoint:""}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])(["setCurrentLocation"])),Object(o["c"])(["getLocations"])),{},{isLocationDiscovered:function(t){return this.getLocations()[t].isDivorced},changeLocation:function(t){var e=this;if(this.getCurrentLocationIndex!==t){this.startPoint=this.getLocations()[this.getCurrentLocationIndex].location,this.endPoint=this.getLocations()[t].location,this.isWalking=!0;var s=setTimeout((function(){e.isCurrent.fill(!1),e.isCurrent[t]=!0,e.setCurrentLocation(t),e.isWalking=!1,clearTimeout(s)}),2600)}}}),computed:Object(c["a"])(Object(c["a"])({},Object(o["c"])(["getCurrentLocationIndex"])),{},{nowYouAreIn:function(){return this.getLocations()[this.getCurrentLocationIndex].location}})}),w=L,S=(s("c9a9"),Object(h["a"])(w,O,Q,!1,null,null,null)),j=S.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"looting"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"loot__area"},[a("div",{staticClass:"loot__list",class:{shown:t.isLocationSeached}},t._l(t.locationPlaces,(function(e,s){return a("div",{staticClass:"loot__place-wrap"},[a("span",{staticClass:"loot__place",class:{selected:s===t.currentplaceId,filling:t.lootingStarted,disabled:t.lootingStarted},on:{click:function(s){return t.choosePlace(e.placeId)}}},[t._v(t._s(e.name)),0===e.searchCount?a("span",{staticClass:"loot__empty"}):t._e()]),a("span",{staticClass:"loot__place-back",class:{disabled:t.lootingStarted,selected:s===t.currentplaceId,filling:t.lootingStarted}},[t._v("недоступно")])])})),0),a("div",{staticClass:"loot__info",class:{shown:t.isLocationSeached}},[a("div",{staticClass:"loot__icon"},[t.isPlaceSelected?a("img",{attrs:{src:s("c58a")("./"+t.selectedPlace.iconId+".svg"),alt:"..."}}):t._e()]),a("div",{staticClass:"loot__description"},[t.isPlaceSelected?a("div",{staticClass:"loot__parameter"},[t._v("Вы нашли:"),a("br"),a("span",{staticClass:"loot__last",class:{found:t.isNewItem}},[t._v(t._s(t.lastFound))])]):t._e(),t.isPlaceSelected?a("div",{staticClass:"loot__parameter"},[t._v("Попыток: "+t._s(t.selectedPlace.searchCount))]):t._e()]),a("div",{staticClass:"loot__action"},[t.isPlaceSelected?a("span",{staticClass:"loot__action-btn",class:{disabled:t.lootingStarted},on:{click:function(e){return t.searchInPlace(t.selectedPlace.placeId)}}},[t._v("обыскать")]):t._e(),a("span",{staticClass:"loot__action-back",class:{disabled:t.lootingStarted}},[t._v("Обыск...")])])]),t.isLocationSeached?t._e():a("div",{staticClass:"loot__show"},[a("div",{staticClass:"loot__search-btn",on:{click:t.showLootable}},[a("svg",{staticClass:"loot__progress-meter",attrs:{width:"200",height:"200",viewport:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{staticClass:"loot__progress-bar",class:{full:t.isSearching},attrs:{r:"55",cx:"100",cy:"100"}})])])])])])])},T=[],M={name:"looting",data:function(){return{lootingStarted:!1,isPlaceSelected:!1,isSearching:!1,isNewItem:!1,lastFound:"ничего",searchCount:0,currentplaceId:null,selectedPlace:{}}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])(["giveItem","setSearchCount","setLocationSearch"])),Object(o["c"])(["getItemMap","getLocations","getCurrentLocationIndex"])),{},{searchInPlace:function(t){var e=this;if(this.isNewItem=!1,"boundLootId"in this.selectedPlace){var s,a=Object(p["a"])(this.getItemMap());try{for(a.s();!(s=a.n()).done;){var i=s.value;i.id===this.selectedPlace.boundLootId&&0===i.quantity&&this.giveItem({newItemID:this.selectedPlace.boundLootId,num:1})}}catch(c){a.e(c)}finally{a.f()}}if(this.selectedPlace.searchCount>=1){this.lootingStarted=!0;var n=setTimeout((function(){e.setSearchCount(t),e.lootingStarted=!1,e.searchLoot(),e.isNewItem=!0,clearTimeout(n)}),1500)}},choosePlace:function(t){this.isPlaceSelected=!0,this.currentplaceId=t,this.selectedPlace={},this.selectedPlace=this.getLocations()[this.getCurrentLocationIndex()].places[t]},showLootable:function(){var t=this;this.isSearching=!0;var e=setTimeout((function(){t.setLocationSearch(),t.isSearching=!1,clearTimeout(e)}),5200)},searchLoot:function(){if(this.playerStamina<=0)console.log("fatigue");else{var t=this.randomItem();this.giveItem({newItemID:t,num:1}),this.$emit("statsUsed",{usedStamina:this.getRandNum(5,1),usedCalories:this.getRandNum(45,10)}),this.lastFound=void 0===t?"ничего":this.getItemMap()[t].name}},randomItem:function(){for(var t=this.selectedPlace.lootMap,e=0,s=0;s<t.length;s++)e+=t[s].rate;for(var a=0;a<t.length;a++)t[a].distribution=t[a].rate/e;var i=0,n=Math.random();while(n>0)n-=t[i].distribution,i++;return i--,t[i].item},getRandNum:function(t,e){var s=Math.floor(Math.random()*Math.floor(t));return s<=e?e:s}}),computed:{isLocationSeached:function(){return this.getLocations()[this.getCurrentLocationIndex()].searched},locationPlaces:function(){return this.getLocations()[this.getCurrentLocationIndex()].places}}},D=M,N=(s("bcd9"),Object(h["a"])(D,P,T,!1,null,null,null)),A=N.exports,E={name:"app",store:d,components:{Quests:b,Backpack:y,WorldMap:j,Looting:A},data:function(){return{isInventoryOpen:!1,isQuestBookOpen:!1,isMapOpen:!1,availableQuestsNubber:0,isQuestAvailable:!1,calories:3e3,playerStamina:100}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])(["takeItem"])),Object(o["c"])(["getItemMap","getInventory"])),{},{caloriesToStamina:function(){this.calories>=20?this.fireNear?(this.calories-=15,this.playerStamina+=5):(this.calories-=20,this.playerStamina+=1):console.log("need food")},decreaseStats:function(t){this.calories-=t.usedCalories,this.playerStamina-=t.usedStamina},increaseStats:function(t){this.calories+=t.usedCalories,this.playerStamina+=t.usedStamina},showQuestsNumber:function(t){t.questsNum>0?(this.isQuestAvailable=!0,this.availableQuestsNubber=t.questsNum):(this.isQuestAvailable=!1,this.availableQuestsNubber=0)},openInventory:function(){this.isInventoryOpen=!this.isInventoryOpen,!0===this.isMapOpen&&(this.isMapOpen=!1),!0===this.isQuestBookOpen&&(this.isQuestBookOpen=!1)},openQuestBook:function(){this.isQuestBookOpen=!this.isQuestBookOpen,!0===this.isInventoryOpen&&(this.isInventoryOpen=!1),!0===this.isMapOpen&&(this.isMapOpen=!1)},openMap:function(){this.isMapOpen=!this.isMapOpen,!0===this.isInventoryOpen&&(this.isInventoryOpen=!1),!0===this.isQuestBookOpen&&(this.isQuestBookOpen=!1)},closeAllInterface:function(){this.isMapOpen=!1,this.isInventoryOpen=!1,this.isQuestBookOpen=!1}}),watch:{calories:function(t){t>=4e3?this.calories=4e3:this.calories,t<=0?this.calories=0:this.calories,this.$refs.kcalBar.style.width="".concat(100*t/4e3,"%")},playerStamina:function(t){t>=100?this.playerStamina=100:this.playerStamina,t<=0?this.playerStamina=0:this.playerStamina,this.$refs.staminaBar.style.width="".concat(t,"%")}},mounted:function(){window.setInterval(this.caloriesToStamina,1e4),this.$refs.staminaBar.style.width="".concat(this.playerStamina,"%"),this.$refs.kcalBar.style.width="".concat(100*this.calories/4e3,"%")}},F=E,B=(s("8054"),Object(h["a"])(F,i,n,!1,null,null,null)),$=B.exports;a["a"].config.productionTip=!1,a["a"].directive("click-outside",{bind:function(t,e,s){t.clickOutsideEvent=function(a){t==a.target||t.contains(a.target)||s.context[e.expression](a)},document.body.addEventListener("click",t.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}}),new a["a"]({render:function(t){return t($)}}).$mount("#app")},6855:function(t,e,s){t.exports=s.p+"img/2.b73278cb.svg"},7001:function(t,e,s){t.exports=s.p+"img/1.8dee3ccc.svg"},7387:function(t,e,s){t.exports=s.p+"img/4.732fd937.svg"},"750c":function(t,e,s){},8054:function(t,e,s){"use strict";var a=s("17fc"),i=s.n(a);i.a},8313:function(t,e,s){},"978b":function(t,e,s){t.exports=s.p+"img/1.54ea90a6.svg"},"98b6":function(t,e,s){t.exports=s.p+"img/9.26d739c0.svg"},aaa0:function(t,e,s){t.exports=s.p+"img/4.282a2fbe.svg"},b818:function(t,e,s){t.exports=s.p+"img/5.16a266b1.svg"},ba84:function(t,e,s){"use strict";var a=s("4aa5"),i=s.n(a);i.a},bcd9:function(t,e,s){"use strict";var a=s("8313"),i=s.n(a);i.a},bdda:function(t,e,s){t.exports=s.p+"img/7.e862ac8e.svg"},c58a:function(t,e,s){var a={"./0.svg":"2850","./1.svg":"7001","./2.svg":"effe","./3.svg":"4116","./4.svg":"7387","./5.svg":"b818"};function i(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="c58a"},c9a9:function(t,e,s){"use strict";var a=s("750c"),i=s.n(a);i.a},d9ce:function(t,e,s){t.exports=s.p+"img/0.c727be6b.svg"},e012:function(t,e,s){t.exports=s.p+"img/6.c9b3ff44.svg"},e1d9:function(t,e,s){},effe:function(t,e,s){t.exports=s.p+"img/2.054065b5.svg"},f655:function(t,e,s){t.exports=s.p+"img/3.5f4e2e45.svg"}});
//# sourceMappingURL=app.967a3ef3.js.map